# REST API Explore-with-me

Свободное время — ценный ресурс.
Ежедневно мы планируем, как его потратить — куда и с кем сходить.
Сложнее всего в таком планировании поиск информации и переговоры.
Нужно учесть много деталей: какие намечаются мероприятия, свободны ли в этот момент друзья,
как всех пригласить и где собраться.
#### Это приложение — афиша.
В этой афише можно предложить какое-либо событие от выставки до похода в кино
и собрать компанию для участия в нём.


## Стек технологий:
### Java 21,  Maven, Spring (Boot, Data), JPA Hibernate, PostgreSQL, REST API, Lombok, Docker, Swagger.

## Модули:

#### Каждый из модулей является отдельным микросервисом и имеет свою собственную базу данных для хранения информации. Это позволяет масштабировать и разрабатывать каждый сервис независимо, что делает приложение более гибким и эффективным.

### Ewm-stats-service - сервис статистики.

#### Для сбора статистики просмотра событий по ip, состоит из трех модулей:
- модуль общих DTO,
- модуль сервиса статистики,
- модуль клиента сервиса статистики.

### Ewm-main-service - основной сервис.

Этот сервис отвечает за управление пользователями в системе. Он предоставляет API для регистрации новых пользователей, аутентификации, обновления профилей пользователей и многое другое. Важная часть этого сервиса - это управление данными пользователей, их авторизация и безопасность.

#### Зазделен на три части:

- Public - доступен без регистрации любому пользователю сети;
- Private - доступен только авторизованным пользователям;
- Admin - для администраторов сервиса.


#### Public API

Публичный API предоставлят возможности поиска и фильтрации событий.

- сортировка списка событий организована по количеству просмотров, которое будет запрашиваться в сервисе статистики, так и по датам событий;
- при просмотре списка событий возвращается краткая информация о мероприятиях;
- просмотр подробной информации о конкретном событии настроен отдельно (через отдельный эндпоинт);
- каждое событие относится к какой-то из закреплённых в приложении категорий;
- настроена возможность получения всех имеющихся категорий и подборок событий (такие подборки составляют администраторы ресурса);
- каждый публичный запрос для получения списка событий или полной информации о мероприятии фиксируется сервисом статистики.

#### Private API

Закрытая часть API реализует возможности зарегистрированных пользователей продукта, такие как:

- авторизованные пользователи имеют возможность добавлять в приложение новые мероприятия, редактировать их и просматривать после добавления;
- настроена возможность подачи заявок на участие в интересующих мероприятиях;
- создатель мероприятия имеет возможность подтверждать заявки, которые отправили другие пользователи сервиса.

#### Admin API

Административная часть API предоставлят возможности настройки и поддержки работы сервиса:
- настройка добавления, изменения и удаления категорий для событий;
- возможность добавлять, удалять и закреплять на главной странице подборки мероприятий;
- модерация событий, размещённых пользователями, — публикация или отклонение;
- настройка управления пользователями — добавление, активация, просмотр и удаление.


## Дополнительные функциональности:
### Comments - комментарии к событиям;
Функциональность комментариев предоставляет пользователям возможность оставлять отзывы, делиться мыслями или задавать вопросы о событиях, создавая интерактивную среду в приложении.
Функциональность включает настройки прав доступа для создания, просмотра, редактирования и модерации комментариев.
Функциональность комментариев доступна через набор эндпоинтов, разделенных на Private, Admin и Public APIs, что позволяет предоставлять разные права доступа на основе ролей пользователей.


#### Private API
- GET /users/{usersId}/events/{eventId}/comments - Получение всех комментариев текущего пользователя к фактическому событию;
- POST /users/{userId}/events/{eventId}/comments - Добавление нового комментария от текущего пользователя под фактическим событием;
- PATCH /users/{userId}/comments/{commentId} - Изменение текста своего комментария;
- DELETE /users/{userId}/comments/{commentId} - Удаление своего комментария текущим пользователем;
- GET /users/{usersId}/events/{eventId}/comments/search - Поиск комментария текцщего пользователя к фактическому событию.


#### Admin API
- DELETE /admin/comments/events/{eventId} - Удаление всех комментариев админом у текущего события.


#### Public API
- GET /events/{eventId}/comments - Получение всех комментариев к определенному событию;
- GET /comments/{commentId} - Получение комментария по его id.


